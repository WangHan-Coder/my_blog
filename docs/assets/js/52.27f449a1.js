(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{553:function(e,_,v){"use strict";v.r(_);var l=v(5),a=Object(l.a)({},(function(){var e=this,_=e.$createElement,v=e._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h2",{attrs:{id:"前端为何要进行打包和构建"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端为何要进行打包和构建"}},[e._v("#")]),e._v(" 前端为何要进行打包和构建？")]),e._v(" "),v("p",[e._v("代码层面：")]),e._v(" "),v("ul",[v("li",[e._v("体积更小（Tree-Shaking、压缩、合并），加载更快")]),e._v(" "),v("li",[e._v("编译高级语言或语法（TS，ES6+，模块化，scss）")]),e._v(" "),v("li",[e._v("兼容性和错误检查（Polyfill、postcss、eslint）")])]),e._v(" "),v("p",[e._v("研发流程层面：")]),e._v(" "),v("ul",[v("li",[e._v("统一、高效的开发环境")]),e._v(" "),v("li",[e._v("统一的构建流程和产出标准")]),e._v(" "),v("li",[e._v("集成公司构建规范（提测、上线等）")])]),e._v(" "),v("h2",{attrs:{id:"loader和plugin的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#loader和plugin的区别"}},[e._v("#")]),e._v(" Loader和Plugin的区别")]),e._v(" "),v("ul",[v("li",[e._v("loader模块转换器，如less->css")]),e._v(" "),v("li",[e._v("plugin扩展插件，如HtmlWebpackPlugin")])]),e._v(" "),v("h2",{attrs:{id:"常见的loader和plugin有哪些"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#常见的loader和plugin有哪些"}},[e._v("#")]),e._v(" 常见的Loader和Plugin有哪些")]),e._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://webpackjs.com/loaders",target:"_blank",rel:"noopener noreferrer"}},[e._v("loaders"),v("OutboundLink")],1)]),e._v(" "),v("li",[v("a",{attrs:{href:"https://webpackjs.com/plugins",target:"_blank",rel:"noopener noreferrer"}},[e._v("plugins"),v("OutboundLink")],1)])]),e._v(" "),v("h2",{attrs:{id:"babel和webpack的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#babel和webpack的区别"}},[e._v("#")]),e._v(" babel和webpack的区别")]),e._v(" "),v("ul",[v("li",[e._v("babel-JS新语法编译工具，不关心模块化")]),e._v(" "),v("li",[e._v("webpack-打包构建工具，是多个loader、plugin的集合")])]),e._v(" "),v("h2",{attrs:{id:"babel-polyfill和babel-runtime的区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill和babel-runtime的区别"}},[e._v("#")]),e._v(" babel-polyfill和babel-runtime的区别")]),e._v(" "),v("ul",[v("li",[e._v("babel-polyfill会污染全局")]),e._v(" "),v("li",[e._v("babel-runtime不会污染全局")]),e._v(" "),v("li",[e._v("产出第三方lib要用babel-runtime")])]),e._v(" "),v("h2",{attrs:{id:"webpack如何实现懒加载"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack如何实现懒加载"}},[e._v("#")]),e._v(" webpack如何实现懒加载")]),e._v(" "),v("ul",[v("li",[e._v("import()")]),e._v(" "),v("li",[e._v("结合Vue、React异步组件")]),e._v(" "),v("li",[e._v("结合Vue-router、React-router异步加载路由")])]),e._v(" "),v("h2",{attrs:{id:"为何proxy不能被polyfill"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为何proxy不能被polyfill"}},[e._v("#")]),e._v(" 为何Proxy不能被Polyfill")]),e._v(" "),v("ul",[v("li",[e._v("如Class可以用function模拟")]),e._v(" "),v("li",[e._v("如Promise可以用callback模拟")]),e._v(" "),v("li",[e._v("但Proxy的功能用Object.defineProperty无法模拟")])]),e._v(" "),v("h2",{attrs:{id:"npm依赖的分类"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#npm依赖的分类"}},[e._v("#")]),e._v(" npm依赖的分类")]),e._v(" "),v("ul",[v("li",[e._v("dependencies\n"),v("ul",[v("li",[e._v("运行项目业务逻辑需要的第三方库")]),e._v(" "),v("li",[e._v("npm install '模块名称'的时候都会被解析，下载")])])]),e._v(" "),v("li",[e._v("devDependencies\n"),v("ul",[v("li",[e._v("开发模式工作流下依赖的第三方库")]),e._v(" "),v("li",[e._v("单元测试，语法转换，lint工具，程序构建，本地开发等等")])])]),e._v(" "),v("li",[e._v("peerDependencies\n"),v("ul",[v("li",[e._v("需要核心依赖库，不能脱离依赖库单独使用")])])])]),e._v(" "),v("h2",{attrs:{id:"webpack热更新原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack热更新原理"}},[e._v("#")]),e._v(" webpack热更新原理")]),e._v(" "),v("p",[e._v("webpack热更新又叫热替换（"),v("code",[e._v("Hot Module Replacement")]),e._v("），简称"),v("code",[e._v("HMR")]),e._v("，这个机制能做到不用刷新页面就实现模块的替换。")]),e._v(" "),v("p",[e._v("核心：webpack + http + websocket + jsonp")]),e._v(" "),v("ol",[v("li",[e._v("启动一个HTTP服务器，会打包我们的项目，并且让我们可以预览我们产出的文件，默认端口号8080")]),e._v(" "),v("li",[e._v("还会启动一个"),v("code",[e._v("websocket")]),e._v("双向通信服务器，如果有新的模块发生变更的话，会通过消息的方式通知客户端，让客户端拉取最新代码，并且进行客户端的热更新")]),e._v(" "),v("li",[e._v("服务器监听 webpack 打包的 done 事件，并发向客户端发送消息 hash 和 ok 消息")]),e._v(" "),v("li",[e._v("客户端收到"),v("code",[e._v("hash")]),e._v("消息，保存hash值")]),e._v(" "),v("li",[e._v("客户端收到"),v("code",[e._v("ok")]),e._v("消息，会派发"),v("code",[e._v("webpackHotUpdate")]),e._v("事件")]),e._v(" "),v("li",[e._v("webpack/hot/dev-server收到"),v("code",[e._v("webpackHotUpdate")]),e._v("事件，会执行"),v("code",[e._v("hotCheck")]),e._v("进行热更新检查，通过ajax拉取"),v("code",[e._v("[chunkId].[lastHash].hot-update.json")]),e._v("，创建script拉取"),v("code",[e._v("[chunkId].[lastHash].hot-update.js")]),e._v("两个补丁包，其中json文件包含更改的代码块，而js文件是最新的模块信息")]),e._v(" "),v("li",[e._v("js补丁包拉取下来后，会调用"),v("code",[e._v("webpackHotUpdate[包名]")]),e._v("方法，然后会改变"),v("code",[e._v("modules")]),e._v("对象，并删除原来模块的缓存，并通过当前模块 id 找到父模块执行"),v("code",[e._v("accept")]),e._v("回调，重新加载当前模块。")])]),e._v(" "),v("h2",{attrs:{id:"webpack-import懒加载原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-import懒加载原理"}},[e._v("#")]),e._v(" webpack import懒加载原理")]),e._v(" "),v("ol",[v("li",[e._v("调用"),v("code",[e._v("__webpack_require__.e")]),e._v("方法加载模块")]),e._v(" "),v("li",[e._v("声明一个promises数组，调用"),v("code",[e._v("__webpack_require__.f.j")]),e._v("方法，传入"),v("code",[e._v("chunkId")]),e._v("和"),v("code",[e._v("promises数组")]),e._v("，创建一个promise实例，将"),v("code",[e._v("[resolve, reject, promise]")]),e._v("存入"),v("code",[e._v("installedChunks")]),e._v("中，并把当前的promise实例放入"),v("code",[e._v("promises数组")]),e._v("中，然后返回"),v("code",[e._v("Promise.all(promises)")])]),e._v(" "),v("li",[e._v("调用"),v("code",[e._v("__webpack_require__.l")]),e._v("方法，创建"),v("code",[e._v("script标签")]),e._v("，发送请求加载脚本")]),e._v(" "),v("li",[e._v("拿到脚本执行"),v("code",[e._v("webpackJsonpCallback")]),e._v("方法，将当前的"),v("code",[e._v("moreModules")]),e._v("合并到"),v("code",[e._v("__webpack_modules__")]),e._v("中，并执行"),v("code",[e._v("resolve")]),e._v("方法让我们创建的promise成功，然后将"),v("code",[e._v("installedChunks[chunkId]")]),e._v("改为0")]),e._v(" "),v("li",[e._v("promise成功后会执行"),v("code",[e._v("require")]),e._v("方法去加载这个模块，从"),v("code",[e._v("__webpack_modules__")]),e._v("拿到模块定义函数并执行拿到结果，需要注意的是，不管加载的是commonjs模块还是es module模块，最终拿到的结果都会包装成es module。")])])])}),[],!1,null,null,null);_.default=a.exports}}]);