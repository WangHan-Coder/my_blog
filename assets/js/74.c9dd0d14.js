(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{492:function(v,_,e){"use strict";e.r(_);var l=e(1),i=Object(l.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"webpack优化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#webpack优化"}},[v._v("#")]),v._v(" webpack优化")]),v._v(" "),_("p",[v._v("一、优化构建速度")]),v._v(" "),_("ol",[_("li",[v._v("noParse")]),v._v(" "),_("li",[v._v("babel-loader开启缓存")]),v._v(" "),_("li",[v._v("IgnorePlugin")]),v._v(" "),_("li",[v._v("happyPack")]),v._v(" "),_("li",[v._v("sourcemap\n二、优化产出代码")]),v._v(" "),_("li",[v._v("小图片base64编码")]),v._v(" "),_("li",[v._v("bundle加hash")]),v._v(" "),_("li",[v._v("懒加载")]),v._v(" "),_("li",[v._v("提取公共代码split-chunks")]),v._v(" "),_("li",[v._v("external")]),v._v(" "),_("li",[v._v("Tree-Shaking")])]),v._v(" "),_("h2",{attrs:{id:"webpack构建流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#webpack构建流程"}},[v._v("#")]),v._v(" webpack构建流程")]),v._v(" "),_("ol",[_("li",[v._v("初始化参数")]),v._v(" "),_("li",[v._v("开始编译")]),v._v(" "),_("li",[v._v("找到入口")]),v._v(" "),_("li",[v._v("模块编译")]),v._v(" "),_("li",[v._v("完成模块编译")]),v._v(" "),_("li",[v._v("输出资源")]),v._v(" "),_("li",[v._v("写入文件")]),v._v(" "),_("li",[v._v("输出资源")])]),v._v(" "),_("h2",{attrs:{id:"vite"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[v._v("#")]),v._v(" vite")]),v._v(" "),_("p",[v._v("原因：")]),v._v(" "),_("ul",[_("li",[v._v("缓慢的服务启动速度：项目大以后，webpack的构建速度长达几十秒")]),v._v(" "),_("li",[v._v("缓存的HMR热更新：即使采用了HMR模式，其热更新速度还是会随着应用规模的增长而缓慢下降")])]),v._v(" "),_("p",[v._v("vite就是快的意思，它基于"),_("code",[v._v("Esbuild")]),v._v("和"),_("code",[v._v("rollup")]),v._v(",依靠浏览器本身的ESM功能，实现极致开发体验的新一代构建工具。")]),v._v(" "),_("p",[v._v("开发环境：")]),v._v(" "),_("ol",[_("li",[v._v("利用浏览器原生的"),_("code",[v._v("Es Module")]),v._v("的编译能力，"),_("code",[v._v("import")]),v._v("时会向"),_("code",[v._v("dev server")]),v._v("发送ajax请求，服务器对源码做简单处理后返回浏览器")]),v._v(" "),_("li",[v._v("利用"),_("code",[v._v("esbuild")]),v._v("处理模块依赖，"),_("code",[v._v("esbuild")]),v._v("使用go语言编写，比一般nodejs写的编译器快几个数量级。")]),v._v(" "),_("li",[v._v("vite的hmr是在原生es module上执行的，当编辑文件时，vite只需要让已编辑文件失活，就能实现热更新，而且不会随着应用的增大而显著降低速度。")])]),v._v(" "),_("p",[v._v("生产环境：")]),v._v(" "),_("ol",[_("li",[v._v("使用"),_("code",[v._v("rollup")]),v._v("打包，依赖其稳定的生态和更简洁的插件机制")])]),v._v(" "),_("p",[v._v("原理：")]),v._v(" "),_("ol",[_("li",[v._v("浏览器只支持相对或者绝对路径，而我们引入包的时候都是"),_("code",[v._v("import xxx from 'yyy'")]),v._v("，所以需要对路径进行转换。")])])])}),[],!1,null,null,null);_.default=i.exports}}]);