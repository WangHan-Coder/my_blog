---
title: 001 工作经验感悟
date: 2021-05-09
categories:
  - 工作感悟
tags:
  - 工作感悟
sidebar: "auto"
---

## 组件封装

- 封装的好处

1. 复用
2. 解耦(第三方库)
3. 降低颗粒度
4. 方便统一修改(UI 风格、交互方式等)

- 封装思路

1. 是公共组件还是业务组件?配置抽离
2. 该暴露哪些接口-可扩展性和灵活性
3. 封装的组件内部颗粒度不宜过大，方便后期维护
4. 不要修改传入的数据

- 如何保证组件的可靠性和可用性

1. 功能测试和单元测试
2. 编写详细易懂的 README 文档

## 数据处理

- 响应数据处理(后端返回数据)
  lodash 函数式处理数据
  业务逻辑和结构相分离，模板里尽量不要写逻辑判断
  Select、Radio.Group 用 options 方式渲染
- 单向数据流(前端 js 数据)
- 数据不可变

1. vue 和 React 框架
   vue 的核心是数据响应式，数据变化驱动视图刷新，而 react 则提倡数据不可变(immutable)，每次 render 时用新数据替换老数据，方便数据回退。而两个框架提提倡单向数据流。
2. 小程序：避免 app.data 的滥用

## 代码规范和技巧

1. eslint、codeReview、TypeScript
2. 函数传递 3 个及以上参数 包装成一个对象
3. ref 的滥用
4. commit 规范: husky
