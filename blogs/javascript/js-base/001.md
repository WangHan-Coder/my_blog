---
title: 001 JS异步编程的实现方式
date: 2021-04-22
categories: 
 - JavaScript
tags:
 - JS基础
sidebar: 'auto'
---

## 1.异步
异步可以理解为把一个任务分成了两段，先执行第一段，转而去执行其它任务，等准备完毕后，再回过头来执行第二段。

比如发一个http请求，第一段就是创建XMLHttpRequest对象，做好请求配置后向后端发送请求，然后就去执行其他任务(其它js代码)了，第二段就是拿到后端响应后，执行对应的回调函数。这种不连续的执行，叫做异步，反之，连续的执行，叫做同步。

## 2.高阶函数
在js中，函数是一等公民。所谓一等公民，就是指函数能和数据类型一样，可以赋值给变量，也可以作为函数的参数和返回值。而传入的参数中或者返回值中带有函数的，就被称为高阶函数。
### 高阶函数的作用
1. 可以批量生成函数
```js
function isType(type) {
    return (obj) => {
        return Object.prototype.toString.call(obj) === `[object ${type}]`
    }
}

const isFunc = isType('Function')
const isBoo = isType('Boolean')
```
2. 可以用于多次调用才执行的函数
```js
function after(time, callback) {
    let count = 0
    return function () {
        if (++count === time) {
            callback.apply(this, arguments)
        }
    }
}
const f = after(3, function () {
    console.log('callback')
})
f()
```

